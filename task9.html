<!DOCTYPE html>
<html>
  <head>
    <title>Nearby Grocery Stores</title>
    <style>
      #map {
        height: 500px;
        width: 100%;
      }
    </style>
  </head>
  <body>
    <h2>ðŸ›’ Nearby Grocery Stores</h2>
    <button onclick="initMap()">Find Stores</button>
    <div id="map"></div>

    <script>
      let map;

      function initMap() {
        if (navigator.geolocation) {
          navigator.geolocation.getCurrentPosition(position => {
            const userLocation = {
              lat: position.coords.latitude,
              lng: position.coords.longitude
            };

            map = new google.maps.Map(document.getElementById('map'), {
              center: userLocation,
              zoom: 15
            });

            new google.maps.Marker({
              position: userLocation,
              map,
              title: "You are here"
            });

            const request = {
              location: userLocation,
              radius: '2000',
              keyword: 'grocery store'
            };

            const service = new google.maps.places.PlacesService(map);
            service.nearbySearch(request, (results, status) => {
              if (status === google.maps.places.PlacesServiceStatus.OK) {
                for (let i = 0; i < results.length; i++) {
                  const place = results[i];
                  new google.maps.Marker({
                    map,
                    position: place.geometry.location,
                    title: place.name
                  });
                }
              } else {
                alert('No stores found or request failed');
              }
            });

          }, err => {
            alert('Error getting location: ' + err.message);
          });
        } else {
          alert('Geolocation not supported');
        }
      }
    </script>

    <!-- ðŸ” Replace YOUR_API_KEY below -->
    <script src="https://maps.googleapis.com/maps/api/js?key=YOUR_API_KEY&libraries=places"></script>
  </body>
</html>
